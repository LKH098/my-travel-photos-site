<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Li's photo</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* 網站背景設為全黑，文字為白色 */
        body {
            background-color: #000;
            color: #fff;
            /* 未來如果要改成圖片背景，可以取消下面註解並修改路徑 */
            /* background-image: url('images/your_background_image.jpg'); */
            /* background-size: cover; */
            /* background-position: center; */
            /* background-attachment: fixed; */
        }
        /* 圖片容器的基礎樣式，用於實現 hover 效果 */
        .image-container {
            position: relative;
            overflow: hidden; /* 確保內容不會溢出 */
            aspect-ratio: 1 / 1; /* 保持圖片容器為正方形，避免圖片拉伸變形 */
        }
        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover; /* 讓圖片填滿容器並保持比例 */
            transition: transform 0.3s ease; /* 為圖片的縮放添加平滑過渡 */
        }
        /* 圖片 hover 時的縮放效果 */
        .image-container:hover img {
            transform: scale(1.05); /* 圖片輕微放大 */
        }
        /* 浮層 (地點名稱) 樣式 */
        .overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.7); /* 半透明黑色背景 */
            padding: 10px;
            text-align: center;
            opacity: 0; /* 初始時隱藏 */
            transition: opacity 0.3s ease; /* 為透明度變化添加平滑過渡 */
            pointer-events: none; /* 讓滑鼠事件能穿透到下方的圖片 */
        }
        /* 當圖片容器 hover 時，顯示浮層 */
        .image-container:hover .overlay {
            opacity: 1;
            pointer-events: auto; /* 顯示時允許滑鼠事件 */
        }
        /* 浮層內的連結樣式 */
        .overlay a {
            color: #fff; /* 連結文字為白色 */
            text-decoration: none; /* 去除下劃線 */
            font-weight: bold;
        }
        .overlay a:hover {
            text-decoration: underline; /* hover 時顯示下劃線 */
        }
    </style>
</head>
<body class="font-sans">
    <header class="py-6 text-center">
        <h1 class="text-3xl font-bold">Li's photo</h1>
    </header>

    <main class="container mx-auto px-4 py-8">
        <div id="image-grid" class="grid gap-4 md:grid-cols-3 grid-cols-1">
            </div>

        <div id="pagination" class="flex justify-center mt-8">
            </div>
    </main>

    <script>
        // --- 設定你的 GitHub 倉庫資訊 ---
        // 請確保這裡填寫的是正確的 GitHub 使用者名稱和倉庫名稱
        const owner = 'lkh098';             // 替換為你的 GitHub 使用者名稱
        const repo = 'my-travel-photos-site'; // 替換為你的 GitHub 倉庫名稱
        const imageFolderPath = 'images';   // 圖片在倉庫中的路徑，例如 'images'

        const imagesPerPage = 9; // 每頁顯示 9 張圖片
        let currentPage = 1;     // 當前頁碼，初始為第一頁
        let allImageData = [];   // 用於儲存從 GitHub API 獲取的所有圖片資料

        const imageGrid = document.getElementById('image-grid');
        const paginationDiv = document.getElementById('pagination');

        /**
         * 從 GitHub API 獲取圖片檔案列表
         */
        async function fetchImagesFromGitHub() {
            // 這個 URL 用於向 GitHub API 請求指定倉庫資料夾的內容
            // 語法已修正，確保沒有多餘的字符
            const url = `https://api.github.com/repos/<span class="math-inline">\{owner\}/</span>{repo}/contents/${imageFolderPath}`;
            try {
                const response = await fetch(url);
                if (!response.ok) {
                    // 如果請求不成功 (例如 403 Forbidden, 404 Not Found)，拋出錯誤
                    throw new Error(`GitHub API 錯誤: <span class="math-inline">\{response\.statusText\} \(</span>{response.status})`);
                }
                const data = await response.json();

                // 過濾出圖片檔案 (確保是文件類型且副檔名是圖片)，並建立圖片資料物件